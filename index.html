<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Tool T√†i X·ªâu MD5 - VIP</title>
  <style>
    :root {
      --primary-green: #00ff41;
      --luxury-gold: #FFD700;
      --dark-bg: #000000;
      --panel-bg: #0a0a0a;
      --border-color: #333;
      --text-color: var(--primary-green);
      --red-light: #ff1b1b;
      --red-light-bg: #330000;
      --purple-light: #9b59b6;
      --blue-light: #3498db;
    }

    body {
      margin: 0;
      font-family: 'Courier New', monospace;
      background: var(--dark-bg);
      color: var(--text-color);
      overflow-x: hidden;
    }

    h1 {
      text-align: center;
      font-size: 28px;
      margin-top: 20px;
      color: var(--primary-green);
      text-shadow: 0 0 10px var(--primary-green), 0 0 20px var(--primary-green);
    }

    .container {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
      z-index: 2;
      position: relative;
    }

    input {
      font-size: 18px;
      padding: 12px;
      border-radius: 5px;
      margin: 10px 0;
      box-sizing: border-box;
      width: 90%;
      max-width: 400px;
      background: #111;
      color: var(--text-color);
      border: 2px solid var(--primary-green);
      text-align: center;
    }
    input::placeholder { color: #555; }
    input:focus {
      outline: none;
      box-shadow: 0 0 15px var(--primary-green);
    }

    button {
      font-size: 18px;
      padding: 12px;
      border-radius: 5px;
      border: none;
      margin: 10px 0;
      box-sizing: border-box;
      background: linear-gradient(45deg, var(--primary-green), #00e038);
      color: var(--dark-bg);
      font-weight: bold;
      cursor: pointer;
      width: 200px;
      box-shadow: 0 0 15px var(--primary-green);
      transition: all 0.3s ease;
    }
    button:hover {
        transform: scale(1.05);
        box-shadow: 0 0 25px var(--primary-green);
    }
    button:disabled {
        background: #555;
        cursor: not-allowed;
        box-shadow: none;
        transform: none;
    }

    .lights {
      display: flex;
      justify-content: center;
      margin: 40px 0 10px;
      gap: 80px;
    }
    .light {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      background: #111;
      box-shadow: inset 0 0 20px rgba(0,0,0,0.5);
      border: 2px solid #222;
    }
    .green { background-color: #003300; }
    .red { background-color: var(--red-light-bg); }

    .on-green {
      background-color: var(--primary-green) !important;
      box-shadow: 0 0 25px 10px var(--primary-green);
    }
    .on-red {
      background-color: var(--red-light) !important;
      box-shadow: 0 0 25px 10px var(--red-light);
    }

    .result, .message {
      font-size: 24px;
      font-weight: bold;
      margin-top: 20px;
      min-height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      text-shadow: 0 0 12px;
    }

    canvas {
      position: fixed;
      top: 0;
      left: 0;
      z-index: 0;
      pointer-events: none;
    }

    #statsSection {
        background-color: var(--panel-bg);
        border: 1px solid var(--luxury-gold);
        border-radius: 8px;
        padding: 10px 20px;
        margin-bottom: 20px;
        font-size: 16px;
        color: #ccc;
        text-align: center;
        width: 90%;
        max-width: 400px;
        box-shadow: 0 0 10px rgba(255, 215, 0, 0.2);
    }
    #statsSection span {
        color: var(--luxury-gold);
        font-weight: bold;
    }
    #feedbackSection {
        margin-top: 20px;
        display: flex;
        gap: 20px;
        align-items: center;
    }
    .feedback-btn {
        width: 120px;
        padding: 10px;
        font-size: 16px;
    }
    .feedback-btn.correct {
        background: linear-gradient(45deg, var(--primary-green), #00e038);
        box-shadow: 0 0 15px var(--primary-green);
    }
    .feedback-btn.incorrect {
        background: linear-gradient(45deg, var(--red-light), #c00);
        box-shadow: 0 0 15px var(--red-light);
        color: white;
    }

    .game-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 25px; width: 100%; max-width: 650px; margin-top: 30px; }
    .game-card { background: var(--panel-bg); border: 2px solid var(--border-color); border-radius: 10px; padding: 25px; text-align: center; cursor: pointer; transition: transform 0.3s, box-shadow 0.3s; }
    .game-card:hover { transform: translateY(-10px); }
    .game-card h3 { margin: 0 0 10px 0; font-size: 24px; font-weight: bold; }
    .game-card p { margin: 0; font-size: 14px; color: #999; }
    .game-card.hitclub { border-color: var(--red-light); color: var(--red-light); }
    .game-card.hitclub:hover { box-shadow: 0 0 25px var(--red-light); }
    .game-card.b52 { border-color: var(--primary-green); color: var(--primary-green); }
    .game-card.b52:hover { box-shadow: 0 0 25px var(--primary-green); }
    .game-card.xocdia88 { border-color: var(--purple-light); color: var(--purple-light); }
    .game-card.xocdia88:hover { box-shadow: 0 0 25px var(--purple-light); }
    .game-card.lucky { border-color: var(--blue-light); color: var(--blue-light); }
    .game-card.lucky:hover { box-shadow: 0 0 25px var(--blue-light); }

    .current-game-title { color: var(--luxury-gold); font-size: 20px; margin-bottom: 0; text-shadow: 0 0 8px var(--luxury-gold); font-weight: bold; }

    #welcomePopup { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.8); z-index: 100; justify-content: center; align-items: center; padding: 15px; box-sizing: border-box; }
    .popup-content { background: var(--panel-bg); padding: 25px; border-radius: 10px; border: 2px solid var(--primary-green); box-shadow: 0 0 25px var(--primary-green); width: 100%; max-width: 600px; text-align: left; max-height: 85vh; overflow-y: auto; display: flex; flex-direction: column; }
    .popup-content h2 { color: var(--primary-green); text-align: center; margin-top: 0; margin-bottom: 15px; font-size: 24px; }
    .popup-content p { margin: 10px 0; font-size: 16px; line-height: 1.6; color: #ccc; }
    .popup-content strong { color: var(--luxury-gold); font-weight: bold; }
    .popup-content .example { background-color: #111; border-left: 4px solid var(--luxury-gold); padding: 10px; margin-top: 5px; font-style: italic; color: #eee; }
    .popup-content button { display: block; margin: 25px auto 0 auto; flex-shrink: 0; }

    @media (max-width: 600px) { .game-grid { grid-template-columns: 1fr; gap: 20px; } .popup-content { padding: 20px; } .popup-content h2 { font-size: 20px; } .popup-content p, .popup-content .example { font-size: 14px; } }
  </style>
</head>
<body>

<canvas id="matrix"></canvas>

<div id="welcomePopup"></div>

<div id="userLoginSection" class="container"></div>

<div id="gameSelectionSection" class="container" style="display: none;"></div>

<div id="toolSection" class="container" style="display: none;">
  <h2 id="currentGame" class="current-game-title"></h2>
  <h1>üé≤ B·ªò PH√ÇN T√çCH MD5 üé≤</h1>

  <div id="statsSection">
    T·ªïng phi√™n: <span id="sessionCount">0</span> | ƒê√∫ng: <span id="correctCount">0</span> | Sai: <span id="incorrectCount">0</span> | T·ªâ l·ªá: <span id="accuracyRate">N/A</span>
  </div>

  <input id="md5Input" placeholder="Nh·∫≠p m√£ MD5..." />
  <button id="analyzeBtn" onclick="analyze()">PH√ÇN T√çCH</button>
  <div class="lights">
    <div id="greenLight" class="light green"></div>
    <div id="redLight" class="light red"></div>
  </div>
  <div id="resultText" class="result" style="font-size: 42px;"></div>

  <div id="feedbackSection" style="display: none;">
      <button class="feedback-btn correct" onclick="handleFeedback(true)">ƒê√öNG</button>
      <button class="feedback-btn incorrect" onclick="handleFeedback(false)">SAI</button>
  </div>
</div>

<div id="adminLoginSection" class="container" style="display: none;"></div>
<div id="adminPanelSection" class="container" style="display: none;"></div>

<script>
// === Copy l·∫°i to√†n b·ªô n·ªôi dung c·ªßa c√°c th·∫ª div ƒë√£ ·∫©n ·ªü tr√™n v√†o ƒë√¢y ===
document.getElementById('welcomePopup').innerHTML = `<div class="popup-content"><h2>üéâ CH√ÄO M·ª™NG ƒê·∫æN V·ªöI TOOL D·ª∞ ƒêO√ÅN VIP üéâ</h2><p>Tool ƒë∆∞·ª£c sinh ra ƒë·ªÉ h·ªó tr·ª£ b·∫°n, tuy nhi√™n h√£y lu√¥n nh·ªõ r·∫±ng kh√¥ng c√≥ g√¨ l√† tuy·ªát ƒë·ªëi 100%. Vui l√≤ng ƒë·ªçc k·ªπ l∆∞u √Ω quan tr·ªçng d∆∞·ªõi ƒë√¢y:</p><p><strong>GAME HIT.CLUB:</strong> <br/>L∆ØU √ù KHI CH∆†I, b·∫°n ph·∫£i <strong>test tr∆∞·ªõc 5 tay</strong> v√† xem tool b√°o:</p><p>- N·∫øu tool <strong>"g√£y th√¥ng"</strong> (sai li√™n ti·∫øp), h√£y <strong>ƒê√ÅNH NG∆Ø·ª¢C L·∫†I</strong> k·∫øt qu·∫£ tool b√°o.</p><div class="example">V√≠ d·ª• "ƒë√°nh ng∆∞·ª£c": Tool b√°o <span style="color:var(--primary-green); font-weight: bold;">T√ÄI</span>, b·∫°n h√£y ƒë√°nh <span style="color:var(--red-light); font-weight: bold;">X·ªàU</span>.</div><p>- N·∫øu tool <strong>"ƒÉn th√¥ng"</strong> (ƒë√∫ng li√™n ti·∫øp), h√£y <strong>ƒê√ÅNH THEO</strong> k·∫øt qu·∫£ tool b√°o.</p><div class="example">V√≠ d·ª• "ƒë√°nh theo": Tool b√°o <span style="color:var(--primary-green); font-weight: bold;">T√ÄI</span>, b·∫°n h√£y ƒë√°nh <span style="color:var(--primary-green); font-weight: bold;">T√ÄI</span>.</div><p><strong>GAME B52.CC:</strong> <br/>C·∫ßu c·ªßa game n√†y ·ªïn ƒë·ªãnh h∆°n. B·∫°n n√™n <strong>ƒê√ÅNH TR√ôNG V·ªöI</strong> k·∫øt qu·∫£ d·ª± ƒëo√°n c·ªßa tool.</p><div class="example">V√≠ d·ª•: Tool d·ª± ƒëo√°n ra <span style="color:var(--primary-green); font-weight: bold;">T√ÄI</span>, b·∫°n h√£y v√†o game v√† ƒë√°nh <span style="color:var(--primary-green); font-weight: bold;">T√ÄI</span>.</div><button onclick="closeWelcomePopup()">T√îI ƒê√É HI·ªÇU!</button></div>`;
document.getElementById('userLoginSection').innerHTML = `<h1>ü•∞ NH·∫¨P KEY C·ª¶A B·∫†N</h1><input id="idInput" placeholder="Nh·∫≠p key ƒë√£ ƒë∆∞·ª£c duy·ªát..." /><button onclick="checkId()">ƒêƒÇNG NH·∫¨P</button><div class="contact-admin">Li√™n h·ªá Admin ƒë·ªÉ mua key: <a href="https://t.me/concacokila" target="_blank">@concacokila</a> - <a href="https://t.me/ExTaiXiu2010" target="_blank">@ExTaiXiu2010</a> üöÄ</div><div id="userMessage" class="message"></div><div class="admin-link" onclick="showAdminLogin()">Truy c·∫≠p khu v·ª±c Admin</div>`;
document.getElementById('gameSelectionSection').innerHTML = `<h1>üéÆ CH·ªåN GAME B·∫†N MU·ªêN CH∆†I üéÆ</h1><div class="game-grid"><div class="game-card hitclub" onclick="selectGame('HIT.CLUB')"><h3>HIT.CLUB</h3><p>L∆∞u √Ω: C·∫ßn test c·∫ßu tr∆∞·ªõc khi ch∆°i</p></div><div class="game-card b52" onclick="selectGame('B52.CC')"><h3>B52.CC</h3><p>L∆∞u √Ω: ƒê√°nh tr√πng v·ªõi k·∫øt qu·∫£</p></div><div class="game-card xocdia88" onclick="selectGame('XOCDIA88')"><h3>XOCDIA88</h3><p>C·∫ßu MD5 ti√™u chu·∫©n</p></div><div class="game-card lucky" onclick="selectGame('LUCKY')"><h3>LUCKY</h3><p>C·∫ßu MD5 ti√™u chu·∫©n</p></div></div>`;
document.getElementById('adminLoginSection').innerHTML = `<h1>üîí ADMIN LOGIN</h1><input id="adminUser" placeholder="T√™n ƒëƒÉng nh·∫≠p..." /><input id="adminPass" type="password" placeholder="M·∫≠t kh·∫©u..." /><button onclick="loginAdmin()">ƒêƒÇNG NH·∫¨P</button><div id="adminLoginMessage" class="message"></div><div class="admin-link" onclick="showUserLogin()">Quay l·∫°i trang ng∆∞·ªùi d√πng</div>`;
document.getElementById('adminPanelSection').innerHTML = `<h1>‚öôÔ∏è ADMIN PANEL</h1><div class="panel"><h2>Duy·ªát ID Ng∆∞·ªùi D√πng</h2><p>Nh·∫≠p ID c·ªßa ng∆∞·ªùi d√πng ƒë·ªÉ c·∫•p quy·ªÅn truy c·∫≠p:</p><input id="idToApprove" placeholder="Nh·∫≠p ID c·∫ßn duy·ªát..." /><button onclick="approveId()">DUY·ªÜT ID N√ÄY</button></div><div class="panel"><h2>ƒê·ªïi Th√¥ng Tin ƒêƒÉng Nh·∫≠p</h2><input id="newAdminUser" placeholder="T√™n ƒëƒÉng nh·∫≠p m·ªõi..." /><input id="newAdminPass" type="password" placeholder="M·∫≠t kh·∫©u m·ªõi..." /><button onclick="changeAdminCredentials()">L∆ØU THAY ƒê·ªîI</button><div id="changeCredsMessage" class="message" style="font-size: 16px;"></div></div><button onclick="logoutAdmin()" style="background: var(--red-light); color: white; margin-top: 20px;">ƒêƒÇNG XU·∫§T</button>`;


// === BI·∫æN TO√ÄN C·ª§C ===
let blinkInterval;
let selectedGame = '';
let sessionCount = 0;
let correctCount = 0;

// === BI·∫æN ADMIN & KEY ===
let adminCredentials = { username: "concacdcumay0990", password: "123123pp" };
let approvedIDs = new Set([ "Zk5Jh9LtCv", "Bm8Nx1FsPj", "Qc0Gy6UrEl", "Vf3Hs4KoMw", "Ew1Ib7XzRk", "Ls9Pd5YgTu", "Mj2Qr0CnAf", "Xt6Vu8WoBi", "lonbimxaokhe", "TESTKEY123" ]);

// === QU·∫¢N L√ù HI·ªÇN TH·ªä C√ÅC KHUNG ===
function hideAllSections() {
    document.querySelectorAll('.container').forEach(section => section.style.display = 'none');
    document.getElementById('welcomePopup').style.display = 'none';
}

function showUserLogin() { hideAllSections(); document.getElementById('userLoginSection').style.display = 'flex'; }
function showAdminLogin() { hideAllSections(); document.getElementById('adminLoginSection').style.display = 'flex'; }
function showTool() { hideAllSections(); document.getElementById('toolSection').style.display = 'flex'; }
function showAdminPanel() { hideAllSections(); document.getElementById('adminPanelSection').style.display = 'flex'; }
function showGameSelection() { hideAllSections(); document.getElementById('gameSelectionSection').style.display = 'flex'; }

// === LU·ªíNG NG∆Ø·ªúI D√ôNG ===
function checkId() {
    // ... (logic kh√¥ng ƒë·ªïi)
    const userId = document.getElementById('idInput').value.trim();
    const messageDiv = document.getElementById('userMessage');
    if (!userId) { messageDiv.textContent = '‚ùå Vui l√≤ng nh·∫≠p Key!'; messageDiv.style.color = 'red'; return; }
    if (approvedIDs.has(userId)) {
        messageDiv.textContent = '‚úÖ ƒêƒÉng nh·∫≠p th√†nh c√¥ng!'; messageDiv.style.color = 'var(--primary-green)';
        setTimeout(() => { hideAllSections(); document.getElementById('welcomePopup').style.display = 'flex'; }, 1500);
    } else { messageDiv.textContent = '‚ùå SAI KEY HO·∫∂C H·∫æT H·∫†N, MUA KEY IB ADMIN!'; messageDiv.style.color = 'var(--luxury-gold)'; }
}

function closeWelcomePopup() { showGameSelection(); }
function selectGame(gameName) {
    selectedGame = gameName;
    document.getElementById('currentGame').textContent = `Game ƒë∆∞·ª£c ch·ªçn: ${selectedGame}`;
    showTool();
}

// === LOGIC TOOL V√Ä PH·∫¢N H·ªíI ===
function resetToolState() {
    const resultDiv = document.getElementById('resultText');
    const md5Input = document.getElementById('md5Input');
    const analyzeBtn = document.getElementById('analyzeBtn');

    // X√≥a k·∫øt qu·∫£ v√† d·ª´ng ƒë√®n
    clearInterval(blinkInterval);
    document.getElementById('greenLight').classList.remove('on-green');
    document.getElementById('redLight').classList.remove('on-red');

    // ƒê·∫∑t l·∫°i th√¥ng b√°o
    resultDiv.textContent = "S·∫µn s√†ng cho phi√™n ti·∫øp theo!";
    resultDiv.style.fontSize = "24px";
    resultDiv.style.color = "#ccc";
    resultDiv.style.textShadow = 'none';

    // ·∫®n n√∫t ph·∫£n h·ªìi v√† k√≠ch ho·∫°t l·∫°i input
    document.getElementById('feedbackSection').style.display = 'none';
    md5Input.disabled = false;
    analyzeBtn.disabled = false;
}

function updateStats() {
    const incorrectCount = sessionCount - correctCount;
    document.getElementById('sessionCount').textContent = sessionCount;
    document.getElementById('correctCount').textContent = correctCount;
    document.getElementById('incorrectCount').textContent = incorrectCount;

    if (sessionCount > 0) {
        const rate = (correctCount / sessionCount) * 100;
        document.getElementById('accuracyRate').textContent = rate.toFixed(1) + '%';
    } else {
        document.getElementById('accuracyRate').textContent = 'N/A';
    }
}

function handleFeedback(isCorrect) {
    sessionCount++;
    if (isCorrect) {
        correctCount++;
    }
    updateStats();
    resetToolState();
}

function analyze() {
    const md5Input = document.getElementById('md5Input');
    const analyzeBtn = document.getElementById('analyzeBtn');
    const md5 = md5Input.value.trim().toLowerCase();
    const resultDiv = document.getElementById('resultText');

    clearInterval(blinkInterval);
    document.getElementById('greenLight').classList.remove('on-green');
    document.getElementById('redLight').classList.remove('on-red');
    resultDiv.textContent = "";

    if (md5.length !== 32) {
        resultDiv.textContent = "MD5 kh√¥ng h·ª£p l·ªá!";
        resultDiv.style.color = "var(--luxury-gold)";
        return;
    }

    resultDiv.innerHTML = "‚è≥ ƒêANG PH√ÇN T√çCH...";
    resultDiv.style.fontSize = "28px";
    resultDiv.style.color = "#ccc";
    analyzeBtn.disabled = true;
    md5Input.disabled = true;

    setTimeout(() => {
        // ... (ph·∫ßn logic thu·∫≠t to√°n kh√¥ng ƒë·ªïi)
        const bytes = [];
        for (let i = 0; i < 32; i += 2) bytes.push(parseInt(md5.substr(i, 2), 16));
        const clusterSums = [0, 0, 0, 0];
        for (let i = 0; i < 4; i++) clusterSums[i] = bytes[i*4] + bytes[i*4+1] + bytes[i*4+2] + bytes[i*4+3];
        const clusterVariance = Math.max(...clusterSums) - Math.min(...clusterSums);
        const e_score = entropy(md5) * 10;
        const symmetry = [...Array(16).keys()].reduce((acc, i) => acc + (md5[i] === md5[31 - i] ? 1 : 0), 0);
        const tail_bias = Math.abs(parseInt(md5.slice(0, 2), 16) - parseInt(md5.slice(-2), 16));
        const even_count = bytes.filter(b => b % 2 === 0).length;
        const odd_count = 16 - even_count;
        const score = (clusterSums.reduce((a, b) => a + b, 0) * 0.4 + clusterVariance * 2 + e_score * 2 + symmetry * 3 + (even_count - odd_count) * 4 + tail_bias * 0.6) % 100;
        let isTai = score >= 48;

        const result = isTai ? "T√ÄI" : "X·ªàU";
        const targetLight = isTai ? document.getElementById('greenLight') : document.getElementById('redLight');
        const targetClass = isTai ? "on-green" : "on-red";
        const resultColor = isTai ? "var(--primary-green)" : "var(--red-light)";

        resultDiv.style.fontSize = "42px";
        resultDiv.textContent = result;
        resultDiv.style.color = resultColor;
        resultDiv.style.textShadow = `0 0 20px ${resultColor}`;
        md5Input.value = "";

        blinkInterval = setInterval(() => targetLight.classList.toggle(targetClass), 1000);

        // Hi·ªÉn th·ªã n√∫t ph·∫£n h·ªìi
        document.getElementById('feedbackSection').style.display = 'flex';
    }, 5000);
}

function entropy(s) {
    let counts = {};
    for (let c of s) counts[c] = (counts[c] || 0) + 1;
    let probs = Object.values(counts).map(c => c / s.length);
    return -probs.reduce((acc, p) => acc + (p > 0 ? p * Math.log2(p) : 0), 0);
}

// === LOGIC ADMIN & MATRIX EFFECT (kh√¥ng ƒë·ªïi) ===
function loginAdmin(){/*...*/} function approveId(){/*...*/} function changeAdminCredentials(){/*...*/} function logoutAdmin(){showUserLogin();}
const canvas = document.getElementById("matrix"); const ctx = canvas.getContext("2d"); canvas.height = window.innerHeight; canvas.width = window.innerWidth; const letters = "10101010101001010101010101101011010010101010101010001111011"; const fontSize = 14; const columns = canvas.width / fontSize; const drops = Array.from({ length: columns }).fill(1); function drawMatrix() { ctx.fillStyle = "rgba(0, 0, 0, 0.05)"; ctx.fillRect(0, 0, canvas.width, canvas.height); ctx.fillStyle = "var(--primary-green)"; ctx.font = fontSize + "px Courier New"; for (let i = 0; i < drops.length; i++) { const text = letters.charAt(Math.floor(Math.random() * letters.length)); ctx.fillText(text, i * fontSize, drops[i] * fontSize); if (drops[i] * fontSize > canvas.height || Math.random() > 0.975) { drops[i] = 0; } drops[i]++; } } setInterval(drawMatrix, 50);

// Kh·ªüi ƒë·ªông giao di·ªán ng∆∞·ªùi d√πng ban ƒë·∫ßu
showUserLogin();

</script>
</body>
</html>
